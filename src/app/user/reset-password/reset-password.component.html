@if (loading()) {
  <loader></loader>
}
@if (!loading()) {
  <div class="form-container">
    <div class="modal-header">
      <h3>Reset Password</h3>
    </div>
    @if (hasError()) {
      <div class="error-message default-font">
        {{ errorMessage() }}
      </div>
    }
    <form class="form-element" [formGroup]="formGroup!" (ngSubmit)="onSubmit()">
      <div  class="form-group">
        <label for="password">New Password</label>
        <input formControlName="password" id="password" type="password" placeholder="Enter new password" />
      </div>
      @if (hasFieldError('password')) {
        <div class="error-font">
          {{ getFieldErrorMessage('password') }}
        </div>
      }
      <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <input formControlName="confirmPassword" id="confirmPassword" type="password" placeholder="Confirm new password" />
      </div>
      @if (hasFieldError('confirmPassword')) {
        <div class="error-font">
          {{ getFieldErrorMessage('confirmPassword') }}
        </div>
      }
      @if (formGroup!.hasError('passwordsMismatch') && (hasFieldError('password') || hasFieldError('confirmPassword'))) {
        <div class="error-font">
          Passwords do not match.
        </div>
      }
      <div class="button-container">
        <button type="submit" class="custom-button bounce-button">Submit</button>
      </div>
    </form>
  </div>
}
